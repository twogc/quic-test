# TUI (Terminal User Interface) - –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ TUI

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    TUI Dashboard                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä –î–∞–Ω–Ω—ã–µ:                                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ latencyData []float64    (–ª–∞—Ç–µ–Ω—Å–∏—è –≤ –º—Å)              ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ cpuData []float64        (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU %)        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ rttData []float64        (Round Trip Time –≤ –º—Å)       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ errorData []float64      (–æ—à–∏–±–∫–∏: 0/1)                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:                                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ totalRequests int        (–æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤)   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ successCount int         (—É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ errorCount int           (–æ—à–∏–±–∫–∏)                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏:                                                ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ width, height int        (—Ä–∞–∑–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ maxDataPoints int        (–º–∞–∫—Å–∏–º—É–º —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö)       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ fps int                  (—á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### 1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
```go
dashboard := NewTUIDashboard()
// - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
// - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
// - –°–∫—Ä—ã–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä
```

### 2. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**
```go
// –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
// A) –î–µ–º–æ —Ä–µ–∂–∏–º - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
go dashboard.generateDemoData(stopChan)

// B) –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - —á–∏—Ç–∞–µ—Ç JSON –∏–∑ stdin
go dashboard.processInput(scanner)
```

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**
```go
func (d *TUIDashboard) AddMetric(metric MetricData) {
    // –î–æ–±–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã
    d.latencyData = append(d.latencyData, metric.LatencyMs)
    d.cpuData = append(d.cpuData, metric.CPU)
    d.rttData = append(d.rttData, metric.RTTMs)
    
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
    if metric.Code >= 400 {
        d.errorCount++
        d.errorData = append(d.errorData, 1.0)
    } else {
        d.successCount++
        d.errorData = append(d.errorData, 0.0)
    }
    
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
    d.trimData()
}
```

### 4. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥**
```go
func (d *TUIDashboard) Render() {
    // 1. –û—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω
    fmt.Print("\x1b[2J\x1b[H")
    
    // 2. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫
    // 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    // 4. –†–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∏
    // 5. –î–æ–±–∞–≤–ª—è–µ—Ç –ª–µ–≥–µ–Ω–¥—É
}
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### **1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
- **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** –∏ **—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω–∞—Ö
- –î–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –≠–∫—Ä–∞–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ —Ç–∞–π–º–µ—Ä—É (FPS)

### **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**
```go
func (d *TUIDashboard) trimData() {
    if len(d.latencyData) > d.maxDataPoints {
        // –û–±—Ä–µ–∑–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ
        d.latencyData = d.latencyData[len(d.latencyData)-d.maxDataPoints:]
        // ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤
    }
}
```

### **3. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- –ü–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–¥ —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (SIGWINCH)

### **4. ASCII –≥—Ä–∞—Ñ–∏–∫–∞**
```go
func (d *TUIDashboard) plotSimpleGraph(data []float64, caption, color string) {
    // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫ –≤—ã—Å–æ—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞
    normalized := (value - min) / den
    barHeight := int(normalized * float64(height))
    
    // –†–∏—Å—É–µ—Ç ASCII —Å–∏–º–≤–æ–ª—ã
    if h <= barHeight {
        fmt.Print(color + "‚ñà" + "\033[0m")  // –¶–≤–µ—Ç–Ω–æ–π –±–ª–æ–∫
    } else {
        fmt.Print(" ")  // –ü—Ä–æ–±–µ–ª
    }
}
```

## üìä –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (JSON)**
```json
{
    "latency_ms": 12.3,    // –õ–∞—Ç–µ–Ω—Å–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
    "code": 200,           // HTTP –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞
    "cpu": 37.5,           // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –≤ %
    "rtt_ms": 15.2,        // Round Trip Time –≤ –º—Å
    "timestamp": "2025-10-07T14:15:30Z"
}
```

### **–í—ã—Ö–æ–¥–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏**
1. **–õ–∞—Ç–µ–Ω—Å–∏—è** (–∫—Ä–∞—Å–Ω—ã–π) - –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
2. **CPU** (–∂–µ–ª—Ç—ã–π) - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞  
3. **RTT** (—Å–∏–Ω–∏–π) - –≤—Ä–µ–º—è –æ–±–æ—Ä–æ—Ç–∞ –ø–∞–∫–µ—Ç–∞

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### **–°–∏–≥–Ω–∞–ª—ã**
- `SIGINT/SIGTERM` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- `SIGWINCH` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

### **–ö–ª–∞–≤–∏—à–∏**
- `Ctrl+C` - –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
- `--demo` - –¥–µ–º–æ —Ä–µ–∂–∏–º —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `--fps N` - —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### **–î–µ–º–æ —Ä–µ–∂–∏–º**
```bash
./tui --demo --fps 10
```

### **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
```bash
# –ß—Ç–µ–Ω–∏–µ JSON –∏–∑ stdin
echo '{"latency_ms":12.3,"code":200,"cpu":37.5,"rtt_ms":15.2}' | ./tui

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å QUIC —Ç–µ—Å—Ç–µ—Ä–æ–º
./quic-test --mode client --output json | ./tui
```

### **Docker**
```bash
./scripts/docker-tui.sh
```

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ TUI

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±–µ–∑ GUI
2. **–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ
3. **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã** - –Ω–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
     ‚Üì              ‚Üì           ‚Üì          ‚Üì          ‚Üì
  –ù–∞—Å—Ç—Ä–æ–π–∫–∞    JSON/–î–µ–º–æ    AddMetric   Render    Ticker
  —Ç–µ—Ä–º–∏–Ω–∞–ª–∞    –¥–∞–Ω–Ω—ã–µ       trimData    ASCII     FPS
```

**TUI –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä—è–º–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ!** üéØ

