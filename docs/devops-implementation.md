# DevOps Implementation Guide

## üöÄ DevOps –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ QUIC –°–µ—Ä–≤–µ—Ä–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π DevOps –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ QUIC —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–æ–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## üìã –û–±–∑–æ—Ä

DevOps –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ–ª–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ QUIC —Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤—ã—è–≤–∏–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–æ–Ω—ã –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏:

- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è –∑–æ–Ω–∞**: 1-25 pps –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚úÖ
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞**: 26-35 pps –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚ö†Ô∏è (–ò–ó–ë–ï–ì–ê–¢–¨)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞**: 36+ pps –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ üöÄ

## üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ DevOps –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
./scripts/apply-devops-optimizations.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ª–∏–º–∏—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

### 2. –ó–∞–ø—É—Å–∫ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–µ—Ä–≤–µ—Ä–∞

#### –ù–∞ 10 –º–∏–Ω—É—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
```bash
./scripts/optimized-server-10min.sh
```

#### –ù–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è:
```bash
# –°–æ–∑–¥–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
./scripts/apply-devops-optimizations.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
./scripts/optimized-server-start.sh
```

## üìä –°–∏—Å—Ç–µ–º–Ω—ã–µ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### UDP –ë—É—Ñ–µ—Ä—ã
```bash
# –£–≤–µ–ª–∏—á–µ–Ω—ã –¥–æ 128MB
net.core.rmem_max = 134217728
net.core.rmem_default = 134217728
net.core.wmem_max = 134217728
net.core.wmem_default = 134217728
```

### –°–µ—Ç–µ–≤—ã–µ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
```bash
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —Å—Ç–µ–∫–∞
net.core.netdev_max_backlog = 5000
net.core.somaxconn = 65535
net.ipv4.udp_mem = 102400 873800 16777216
net.ipv4.udp_rmem_min = 8192
net.ipv4.udp_wmem_min = 8192
```

### TCP –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
```bash
# BBR congestion control
net.ipv4.tcp_congestion_control = bbr
net.ipv4.tcp_rmem = 4096 87380 134217728
net.ipv4.tcp_wmem = 4096 65536 134217728
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã QUIC –°–µ—Ä–≤–µ—Ä–∞

### –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
QUIC_MAX_CONNECTIONS=1000          # –ú–∞–∫—Å–∏–º—É–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
QUIC_MAX_RATE_PER_CONN=20          # –ú–∞–∫—Å–∏–º—É–º 20 pps –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
QUIC_CONNECTION_TIMEOUT=60s        # –¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
QUIC_HANDSHAKE_TIMEOUT=10s         # –¢–∞–π–º–∞—É—Ç handshake
QUIC_KEEP_ALIVE=30s                # Keep-alive –∏–Ω—Ç–µ—Ä–≤–∞–ª
QUIC_MAX_STREAMS=100                # –ú–∞–∫—Å–∏–º—É–º –ø–æ—Ç–æ–∫–æ–≤
QUIC_ENABLE_DATAGRAMS=true          # –í–∫–ª—é—á–∏—Ç—å datagrams
QUIC_ENABLE_0RTT=true              # –í–∫–ª—é—á–∏—Ç—å 0-RTT
QUIC_MONITORING=true                # –í–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

### –õ–∏–º–∏—Ç—ã –ü—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã
ulimit -n 65536    # –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤
ulimit -u 32768    # –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```

## üè• –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Health Check

### Health Check –°–∫—Ä–∏–ø—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
./scripts/health-check.sh
```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞
- üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –∑–æ–Ω—É (26-35 pps)
- üìä Jitter (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ >100ms)
- ‚ùå –£—Ä–æ–≤–µ–Ω—å –æ—à–∏–±–æ–∫
- üîó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### Prometheus –ê–ª–µ—Ä—Ç—ã
```yaml
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã
- QUICCriticalZone: Rate 26-35 pps
- QUICHighJitter: Jitter > 100ms
- QUICHighErrorRate: Error rate > 1%
```

### Grafana –î–∞—à–±–æ—Ä–¥
- üìà Connection Rate (Critical Zone Detection)
- üìä Jitter (ms)
- ‚ùå Error Rate (%)
- üîó Active Connections

## üöÄ –ö–æ–º–∞–Ω–¥—ã –ó–∞–ø—É—Å–∫–∞

### –ë—ã—Å—Ç—Ä—ã–π –ó–∞–ø—É—Å–∫ (10 –º–∏–Ω—É—Ç)
```bash
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ 10 –º–∏–Ω—É—Ç
./scripts/optimized-server-10min.sh
```

### –î–ª–∏—Ç–µ–ª—å–Ω—ã–π –ó–∞–ø—É—Å–∫
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
./scripts/apply-devops-optimizations.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
./scripts/optimized-server-start.sh
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –ñ–∏–≤–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
./scripts/live-monitor.sh

# Health check
./scripts/health-check.sh
```

## üìà –ö–ª—é—á–µ–≤—ã–µ –ú–µ—Ç—Ä–∏–∫–∏

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏
1. **Connection Rate**: < 25 pps (–∏–∑–±–µ–≥–∞—Ç—å 26-35 pps)
2. **Jitter**: < 100ms
3. **Error Rate**: < 1%
4. **Throughput**: –ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
5. **Connection Count**: –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### Prometheus Queries
```promql
# Connection rate per server
rate(quic_server_connections_total[5m])

# Jitter percentile
histogram_quantile(0.95, quic_server_jitter_seconds)

# Error rate
rate(quic_server_errors_total[5m]) / rate(quic_server_packets_total[5m])

# Critical zone detection
quic_server_rate_per_connection >= 26 and quic_server_rate_per_connection <= 35
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Docker Compose —Å –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
```yaml
# docker-compose.optimized.yml
version: '3.8'
services:
  quic-server-optimized:
    image: 2gc-network-suite:server
    environment:
      - QUIC_MAX_CONNECTIONS=1000
      - QUIC_MAX_RATE_PER_CONN=20
      - QUIC_MONITORING=true
    deploy:
      resources:
        limits:
          cpus: '2'
          memory: 2G
```

### Kubernetes Deployment
```yaml
# k8s/quic-server-optimized.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: quic-server-optimized
spec:
  replicas: 3
  template:
    spec:
      containers:
      - name: quic-server
        image: 2gc-network-suite:server
        env:
        - name: QUIC_MAX_CONNECTIONS
          value: "1000"
        - name: QUIC_MAX_RATE_PER_CONN
          value: "20"
        resources:
          limits:
            memory: "2Gi"
            cpu: "2000m"
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ü—Ä–æ–¥–∞–∫—à–µ–Ω–∞
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
2. üö® –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–æ–Ω
3. üìä –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ health check
4. üîÑ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
5. üìà –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. üß™ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 10-–º–∏–Ω—É—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
2. üìä –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏
3. üîç –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–æ–Ω—ã
4. üìà –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
sysctl net.core.rmem_max
sysctl net.core.wmem_max
sysctl net.ipv4.tcp_congestion_control

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ulimit -n
ulimit -u

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:2113/metrics
```

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ó–æ–Ω–∞
```bash
# –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –∑–æ–Ω–µ (26-35 pps)
# 1. –£–º–µ–Ω—å—à–∏—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
# 2. –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ rate limiting
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –†–µ—Å—É—Ä—Å—ã

- üìñ [DevOps Optimization Guide](devops-optimization-guide.md)
- üê≥ [Docker Deployment](docker.md)
- üìä [Monitoring Setup](monitoring.md)
- ‚ò∏Ô∏è [Kubernetes Deployment](k8s.md)

---

**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: October 7, 2025  
**–ê–≤—Ç–æ—Ä**: DevOps Team  
**–°—Ç–∞—Ç—É—Å**: Production Ready

